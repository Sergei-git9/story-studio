# ОБЗОР ПРОЕКТА: Story Studio

## 1. Что это за проект

**Story Studio** — веб-приложение для создания и воспроизведения интерактивных историй в формате чат-переписки.

**Назначение:** Создание кинематографических историй с эффектами, звуками и визуальными элементами для записи экрана (например, для TikTok/YouTube).

**Основная задача:** Имитация реальной переписки в мессенджере с драматическими эффектами.

## 2. Какую историю он показывает

**Формат:** Чат-переписка между персонажами
**Жанр:** Мистика, хоррор, драма
**Структура:** Эпизодическая (ep1, ep2, etc.)
**Нелинейность:** Отсутствует (линейное воспроизведение)

**Текущие истории:**
- `zakolka` — мистическая история о призраке девушки
- `krysha` — драма на крыше
- `metro` — хоррор в метро

## 3. Структура проекта

```
story-studio/
├── index.html              # Главная страница выбора историй
├── recording.html           # Страница воспроизведения с эффектами
├── config/
│   ├── stories.json        # Конфигурация доступных историй
│   └── settings.json       # Настройки приложения
├── scripts/
│   ├── main.js            # Загрузка и отображение списка историй
│   ├── player.js          # Основной движок воспроизведения
│   └── utils.js           # Вспомогательные функции
├── style/
│   ├── main.css           # Основные стили
│   ├── chat.css           # Стили чата
│   └── animations.css     # Анимации и эффекты
├── assets/
│   ├── sounds/            # Глобальные звуки
│   └── images/            # Глобальные изображения
└── stories/
    └── [story_id]/
        ├── ep[N].json     # Файлы эпизодов
        └── assets/        # Медиафайлы истории
```

## 4. Система историй

**Хранение:** JSON файлы в `stories/[story_id]/ep[N].json`
**Конфигурация:** `config/stories.json` содержит метаданные историй
**Выбор:** Пользователь выбирает историю и эпизод на главной странице
**Запуск:** URL параметры `?story=zakolka&episode=ep1` передаются в `recording.html`
**Воспроизведение:** Автоматическое последовательное отображение сообщений

## 5. Формат эпизода

**Структура:** Массив JSON объектов
**Типы сообщений:**
- `msg` — обычное сообщение персонажа
- `system` — системное уведомление/описание

**Минимальный пример:**
```json
[
  {
    "type": "system",
    "text": "Описание сцены"
  },
  {
    "type": "msg",
    "side": "left",
    "name": "Персонаж",
    "time": "21:00",
    "text": "Привет!",
    "sound": "click"
  }
]
```

**Обязательные поля:**
- `type` — тип сообщения
- `text` — текст сообщения

**Дополнительные поля:**
- `side` — сторона чата (left/right)
- `name` — имя персонажа
- `time` — время сообщения
- `sound` — звуковой эффект
- `image` — путь к изображению
- `glitch` — глитч-эффект (boolean)

## 6. Эффекты и возможности

**Системные сообщения:**
- Описания сцен
- Изображения с анимацией появления
- Звуковое сопровождение

**Глитч-эффекты:**
- Искажение текста
- Мерцание экрана
- Звук глитча

**Звуки:**
- `click.mp3` — обычные сообщения
- `system.mp3` — системные уведомления
- `glitch.mp3` — глитч-эффекты
- `camera.mp3` — звук камеры
- `whisper.mp3` — шепот

**Визуальные эффекты:**
- Анимация печати
- Снегопад
- Автоскролл
- Плавное появление сообщений

**Интерфейс:**
- Кнопка отключения звука
- Индикатор печати
- Кнопка "Продолжить чтение"

## 7. Использование проекта

**Добавить новую историю:**
1. Создать папку `stories/[story_id]/`
2. Добавить `ep1.json` с содержимым
3. Обновить `config/stories.json`
4. Добавить медиафайлы в `stories/[story_id]/assets/`

**Добавить новый эпизод:**
1. Создать `ep[N].json` в папке истории
2. Обновить список эпизодов в `config/stories.json`

**Воспроизвести:**
1. Открыть `index.html`
2. Выбрать историю и эпизод
3. Автоматический переход на `recording.html`
4. Запись экрана + нажать "Продолжить чтение"

## 8. Ограничения проекта

- Только линейное воспроизведение (нет ветвления)
- Нет сохранения прогресса
- Требует ручного управления для записи
- Ограниченный набор типов сообщений
- Нет системы пользователей
- Статические файлы (нет базы данных)
- Зависимость от локальных медиафайлов

---

**Резюме:** Story Studio — простой движок для создания кинематографических чат-историй с эффектами. Использует JSON для хранения сценариев, поддерживает звуки, изображения и визуальные эффекты. Предназначен для записи экрана и создания контента для социальных сетей. Легко расширяется новыми историями через JSON файлы.